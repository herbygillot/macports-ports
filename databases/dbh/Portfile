# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
PortSystem      1.0

name            dbh
version         5.0.22
revision        0

homepage        http://www.gnu.org/software/libdbh

description     Disk based hash library

long_description    \
    Disk based hashes is a method to create multidimensional binary trees on disk. \
    This library permits the extension of database concept to a plethora of \
    electronic data, such as graphic information. With the multidimensional binary \
    tree it is possible to mathematically prove that access time to any \
    particular record is minimized (using the concept of critical points from \
    calculus), which provides the means to construct optimized databases for \
    particular applications.

categories      databases
license         GPL-3
maintainers     nomaintainer
platforms       darwin

checksums       rmd160  5b366df8d08943661f2d5842ac33578d61ef894c \
                sha256  8df54e7d1c1d071e385b59256b42a9538cb1b744b11ecc022e188d99046e91d7 \
                size    1641669

master_sites    sourceforge:dbh
distname        libdbh2-${version}

patch {
    # Fix configure script to respect CFLAGS specified in the environment
    reinplace {s|CFLAGS="-O0 -ggdb"|CFLAGS="\$CFLAGS -O0 -ggdb"|} \
        ${worksrcpath}/configure
    reinplace {s|CFLAGS="-O2"|CFLAGS="\$CFLAGS -O2"|} ${worksrcpath}/configure
}

depends_build           port:pkgconfig

compiler.c_standard     1999

configure.cflags-append -std=c99

build.args-append       CC=${configure.cc}
